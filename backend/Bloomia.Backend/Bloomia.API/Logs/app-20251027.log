[][2025-10-27 14:09:33 INF] Host aborted by EF Core tooling (design-time) - its ok.
[][2025-10-27 14:10:08 INF] Host aborted by EF Core tooling (design-time) - its ok.
[][2025-10-27 14:28:42 INF] Host aborted by EF Core tooling (design-time) - its ok.
[][2025-10-27 14:29:28 INF] Host aborted by EF Core tooling (design-time) - its ok.
[][2025-10-27 14:29:50 INF] Host aborted by EF Core tooling (design-time) - its ok.
[][2025-10-27 14:31:23 WRN] Entity 'UserEntity' has a global query filter defined and is the required end of a relationship with the entity 'AdminEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 14:31:23 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'JournalEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 14:31:23 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'MoodEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 14:31:23 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SavedTherapistsEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 14:31:23 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SelfTestResultEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 14:31:23 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'AppointmentEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 14:31:23 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistAvailabilityEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 14:31:23 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistsTherapyTypesEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 14:31:28 INF] Market API started successfully.
[][2025-10-27 14:31:28 INF] Now listening on: https://localhost:7260
[][2025-10-27 14:31:28 INF] Now listening on: http://localhost:5177
[][2025-10-27 14:31:29 INF] Application started. Press Ctrl+C to shut down.
[][2025-10-27 14:31:29 INF] Hosting environment: Development
[][2025-10-27 14:31:29 INF] Content root path: C:\Users\nezir\OneDrive\Radna površina\rs1-2025-26\Bloomia.Backend\Bloomia.API
[][2025-10-27 15:32:24 WRN] Entity 'UserEntity' has a global query filter defined and is the required end of a relationship with the entity 'AdminEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 15:32:24 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'JournalEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 15:32:24 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'MoodEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 15:32:24 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SavedTherapistsEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 15:32:24 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SelfTestResultEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 15:32:24 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'AppointmentEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 15:32:24 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistAvailabilityEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 15:32:24 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistsTherapyTypesEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 15:32:27 INF] Market API started successfully.
[][2025-10-27 15:32:28 INF] Now listening on: https://localhost:7260
[][2025-10-27 15:32:28 INF] Now listening on: http://localhost:5177
[][2025-10-27 15:32:28 INF] Application started. Press Ctrl+C to shut down.
[][2025-10-27 15:32:28 INF] Hosting environment: Development
[][2025-10-27 15:32:28 INF] Content root path: C:\Users\nezir\OneDrive\Radna površina\rs1-2025-26\Bloomia.Backend\Bloomia.API
[][2025-10-27 16:11:39 WRN] Entity 'UserEntity' has a global query filter defined and is the required end of a relationship with the entity 'AdminEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:11:39 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'JournalEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:11:39 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'MoodEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:11:39 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SavedTherapistsEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:11:39 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SelfTestResultEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:11:39 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'AppointmentEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:11:39 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistAvailabilityEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:11:39 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistsTherapyTypesEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:11:42 INF] Bloomia API started successfully.
[][2025-10-27 16:11:43 INF] Now listening on: https://localhost:7260
[][2025-10-27 16:11:43 INF] Now listening on: http://localhost:5177
[][2025-10-27 16:11:43 INF] Application started. Press Ctrl+C to shut down.
[][2025-10-27 16:11:43 INF] Hosting environment: Development
[][2025-10-27 16:11:43 INF] Content root path: C:\Users\nezir\OneDrive\Radna površina\rs1-2025-26\Bloomia.Backend\Bloomia.API
[][2025-10-27 16:21:49 WRN] Entity 'UserEntity' has a global query filter defined and is the required end of a relationship with the entity 'AdminEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:21:49 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'JournalEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:21:49 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'MoodEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:21:49 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SavedTherapistsEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:21:49 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SelfTestResultEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:21:49 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'AppointmentEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:21:49 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistAvailabilityEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:21:49 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistsTherapyTypesEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:21:53 INF] Bloomia API started successfully.
[][2025-10-27 16:21:54 INF] Now listening on: https://localhost:7260
[][2025-10-27 16:21:54 INF] Now listening on: http://localhost:5177
[][2025-10-27 16:21:55 INF] Application started. Press Ctrl+C to shut down.
[][2025-10-27 16:21:55 INF] Hosting environment: Development
[][2025-10-27 16:21:55 INF] Content root path: C:\Users\nezir\OneDrive\Radna površina\rs1-2025-26\Bloomia.Backend\Bloomia.API
[][2025-10-27 16:24:21 WRN] Entity 'UserEntity' has a global query filter defined and is the required end of a relationship with the entity 'AdminEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:24:22 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'JournalEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:24:22 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'MoodEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:24:22 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SavedTherapistsEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:24:22 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SelfTestResultEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:24:22 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'AppointmentEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:24:22 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistAvailabilityEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:24:22 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistsTherapyTypesEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:24:25 INF] Bloomia API started successfully.
[][2025-10-27 16:24:26 INF] Now listening on: https://localhost:7260
[][2025-10-27 16:24:26 INF] Now listening on: http://localhost:5177
[][2025-10-27 16:24:27 INF] Application started. Press Ctrl+C to shut down.
[][2025-10-27 16:24:27 INF] Hosting environment: Development
[][2025-10-27 16:24:27 INF] Content root path: C:\Users\nezir\OneDrive\Radna površina\rs1-2025-26\Bloomia.Backend\Bloomia.API
[][2025-10-27 16:26:21 WRN] Entity 'UserEntity' has a global query filter defined and is the required end of a relationship with the entity 'AdminEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:26:21 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'JournalEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:26:21 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'MoodEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:26:21 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SavedTherapistsEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:26:21 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SelfTestResultEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:26:21 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'AppointmentEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:26:21 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistAvailabilityEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:26:21 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistsTherapyTypesEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:26:25 ERR] An exception occurred in the database while saving changes for context type 'Bloomia.Infrastructure.Database.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Conversion failed when converting the nvarchar value 'BRAIN_STIMULATION_THERAPY' to data type int.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5d1c8b07-703e-4f1a-8b8c-11dbbaa68c3c
Error Number:245,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Conversion failed when converting the nvarchar value 'BRAIN_STIMULATION_THERAPY' to data type int.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5d1c8b07-703e-4f1a-8b8c-11dbbaa68c3c
Error Number:245,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[][2025-10-27 16:26:25 FTL] Bloomia API terminated unexpectedly.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Conversion failed when converting the nvarchar value 'BRAIN_STIMULATION_THERAPY' to data type int.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5d1c8b07-703e-4f1a-8b8c-11dbbaa68c3c
Error Number:245,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Bloomia.Infrastructure.Database.Seeders.DynamicDataSeedersForBloomia.SeedTherapyTypes(DatabaseContext context) in C:\Users\nezir\OneDrive\Radna površina\rs1-2025-26\Bloomia.Backend\Bloomia.Infrastructure\Database\Seeders\DynamicDataSeedersForBloomia.cs:line 97
   at Bloomia.Infrastructure.Database.Seeders.DynamicDataSeedersForBloomia.SeedAsync(DatabaseContext context) in C:\Users\nezir\OneDrive\Radna površina\rs1-2025-26\Bloomia.Backend\Bloomia.Infrastructure\Database\Seeders\DynamicDataSeedersForBloomia.cs:line 22
   at Bloomia.Infrastructure.DatabaseInitializer.InitializeDatabaseAsync(IServiceProvider services, IHostEnvironment env) in C:\Users\nezir\OneDrive\Radna površina\rs1-2025-26\Bloomia.Backend\Bloomia.Infrastructure\DatabaseInitializer.cs:line 31
   at Bloomia.Infrastructure.DatabaseInitializer.InitializeDatabaseAsync(IServiceProvider services, IHostEnvironment env) in C:\Users\nezir\OneDrive\Radna površina\rs1-2025-26\Bloomia.Backend\Bloomia.Infrastructure\DatabaseInitializer.cs:line 32
   at Program.Main(String[] args) in C:\Users\nezir\OneDrive\Radna površina\rs1-2025-26\Bloomia.Backend\Bloomia.API\Program.cs:line 74
[][2025-10-27 16:30:18 INF] Host aborted by EF Core tooling (design-time) - its ok.
[][2025-10-27 16:30:59 INF] Host aborted by EF Core tooling (design-time) - its ok.
[][2025-10-27 16:31:29 INF] Host aborted by EF Core tooling (design-time) - its ok.
[][2025-10-27 16:31:38 WRN] Entity 'UserEntity' has a global query filter defined and is the required end of a relationship with the entity 'AdminEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:31:38 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'JournalEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:31:38 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'MoodEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:31:38 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SavedTherapistsEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:31:38 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SelfTestResultEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:31:38 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'AppointmentEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:31:38 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistAvailabilityEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:31:38 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistsTherapyTypesEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:31:40 INF] Bloomia API started successfully.
[][2025-10-27 16:31:41 INF] Now listening on: https://localhost:7260
[][2025-10-27 16:31:41 INF] Now listening on: http://localhost:5177
[][2025-10-27 16:31:41 INF] Application started. Press Ctrl+C to shut down.
[][2025-10-27 16:31:41 INF] Hosting environment: Development
[][2025-10-27 16:31:41 INF] Content root path: C:\Users\nezir\OneDrive\Radna površina\rs1-2025-26\Bloomia.Backend\Bloomia.API
[][2025-10-27 16:54:34 WRN] Entity 'UserEntity' has a global query filter defined and is the required end of a relationship with the entity 'AdminEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:54:34 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'JournalEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:54:34 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'MoodEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:54:34 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SavedTherapistsEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:54:34 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SelfTestResultEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:54:34 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'AppointmentEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:54:34 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistAvailabilityEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:54:34 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistsTherapyTypesEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 16:54:36 INF] Bloomia API started successfully.
[][2025-10-27 16:54:36 INF] Now listening on: https://localhost:7260
[][2025-10-27 16:54:36 INF] Now listening on: http://localhost:5177
[][2025-10-27 16:54:36 INF] Application started. Press Ctrl+C to shut down.
[][2025-10-27 16:54:36 INF] Hosting environment: Development
[][2025-10-27 16:54:36 INF] Content root path: C:\Users\nezir\OneDrive\Radna površina\rs1-2025-26 - Copy\Bloomia.Backend\Bloomia.API
[][2025-10-27 22:52:23 WRN] Entity 'UserEntity' has a global query filter defined and is the required end of a relationship with the entity 'AdminEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 22:52:23 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'JournalEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 22:52:23 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'MoodEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 22:52:23 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SavedTherapistsEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 22:52:23 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SelfTestResultEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 22:52:23 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'AppointmentEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 22:52:23 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistAvailabilityEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 22:52:23 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistsTherapyTypesEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-27 22:52:26 INF] Bloomia API started successfully.
[][2025-10-27 22:52:27 INF] Now listening on: https://localhost:7260
[][2025-10-27 22:52:27 INF] Now listening on: http://localhost:5177
[][2025-10-27 22:52:28 INF] Application started. Press Ctrl+C to shut down.
[][2025-10-27 22:52:28 INF] Hosting environment: Development
[][2025-10-27 22:52:28 INF] Content root path: C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API
