[][2025-10-28 00:01:45 WRN] Entity 'UserEntity' has a global query filter defined and is the required end of a relationship with the entity 'AdminEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 00:01:45 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'JournalEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 00:01:45 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'MoodEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 00:01:45 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SavedTherapistsEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 00:01:45 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SelfTestResultEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 00:01:45 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'AppointmentEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 00:01:45 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistAvailabilityEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 00:01:45 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistsTherapyTypesEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 00:01:47 INF] Bloomia API started successfully.
[][2025-10-28 00:01:47 INF] Now listening on: https://localhost:7260
[][2025-10-28 00:01:47 INF] Now listening on: http://localhost:5177
[][2025-10-28 00:01:47 INF] Application started. Press Ctrl+C to shut down.
[][2025-10-28 00:01:47 INF] Hosting environment: Development
[][2025-10-28 00:01:47 INF] Content root path: C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API
[][2025-10-28 14:52:38 INF] Host aborted by EF Core tooling (design-time) - its ok.
[][2025-10-28 14:52:56 INF] Host aborted by EF Core tooling (design-time) - its ok.
[][2025-10-28 14:57:25 WRN] Entity 'UserEntity' has a global query filter defined and is the required end of a relationship with the entity 'AdminEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 14:57:25 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'JournalEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 14:57:25 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'MoodEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 14:57:25 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SavedTherapistsEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 14:57:25 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SelfTestResultEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 14:57:25 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'AppointmentEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 14:57:26 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistAvailabilityEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 14:57:26 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistsTherapyTypesEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 14:57:27 INF] Bloomia API started successfully.
[][2025-10-28 14:57:28 INF] Now listening on: https://localhost:7260
[][2025-10-28 14:57:28 INF] Now listening on: http://localhost:5177
[][2025-10-28 14:57:28 INF] Application started. Press Ctrl+C to shut down.
[][2025-10-28 14:57:28 INF] Hosting environment: Development
[][2025-10-28 14:57:28 INF] Content root path: C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API
[][2025-10-28 14:58:37 INF] HTTP Request/Response Log:
  Path: /api/auth/register-as-client
  Method: POST
  Status: 401
  Duration: 166 ms
  Request Body: {
  "email": "johnDoe@gmail.com",
  "password": "john1234",
  "firstname": "John",
  "lastname": "Doe",
  "username": "JohnDoe"
}

[][2025-10-28 14:59:22 WRN] Entity 'UserEntity' has a global query filter defined and is the required end of a relationship with the entity 'AdminEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 14:59:22 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'JournalEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 14:59:22 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'MoodEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 14:59:22 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SavedTherapistsEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 14:59:22 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SelfTestResultEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 14:59:22 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'AppointmentEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 14:59:22 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistAvailabilityEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 14:59:22 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistsTherapyTypesEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 14:59:24 INF] Bloomia API started successfully.
[][2025-10-28 14:59:24 INF] Now listening on: https://localhost:7260
[][2025-10-28 14:59:24 INF] Now listening on: http://localhost:5177
[][2025-10-28 14:59:25 INF] Application started. Press Ctrl+C to shut down.
[][2025-10-28 14:59:25 INF] Hosting environment: Development
[][2025-10-28 14:59:25 INF] Content root path: C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API
[][2025-10-28 15:00:54 WRN] Entity 'UserEntity' has a global query filter defined and is the required end of a relationship with the entity 'AdminEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 15:00:54 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'JournalEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 15:00:54 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'MoodEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 15:00:54 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SavedTherapistsEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 15:00:54 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SelfTestResultEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 15:00:54 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'AppointmentEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 15:00:54 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistAvailabilityEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 15:00:54 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistsTherapyTypesEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 15:00:56 INF] Bloomia API started successfully.
[][2025-10-28 15:00:57 INF] Now listening on: https://localhost:7260
[][2025-10-28 15:00:57 INF] Now listening on: http://localhost:5177
[][2025-10-28 15:00:57 INF] Application started. Press Ctrl+C to shut down.
[][2025-10-28 15:00:57 INF] Hosting environment: Development
[][2025-10-28 15:00:57 INF] Content root path: C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API
[][2025-10-28 15:01:45 WRN] [SLOW REQUEST] /api/auth/register-as-client took 1239 ms
[][2025-10-28 15:01:45 INF] HTTP Request/Response Log:
  Path: /api/auth/register-as-client
  Method: POST
  Status: 200
  Duration: 1239 ms
  Request Body: {
  "email": "johnDoe00@gmail.com",
  "password": "John1234",
  "firstname": "John",
  "lastname": "Doe",
  "username": "JohnDoe"
}
  Response Body: {"id":4,"fullname":"John Doe","email":"johndoe00@gmail.com","accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI0IiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZWlkZW50aWZpZXIiOiI0IiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvZW1haWxhZGRyZXNzIjoiam9obmRvZTAwQGdtYWlsLmNvbSIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6IkNMSUVOVCIsImZ1bGxuYW1lIjoiSm9obiBEb2UiLCJ2ZXIiOiIwIiwiaWF0IjoxNzYxNjYwMTA1LCJqdGkiOiJkYjcxMWI3MjUzZDE0NmJhODMzYjg3ZTJhMDc1ODEyMSIsImF1ZCI6WyJCbG9vbWlhLlNwYSIsIkJsb29taWEuU3BhIl0sIm5iZiI6MTc2MTY2MDEwNSwiZXhwIjoxNzYxNjYxMzA1LCJpc3MiOiJCbG9vbWlhLkFwaSJ9.tEdPEHqvReAcMolYXz1SFOgCREvAQHuMZd5mF3M6jlg","refreshToken":"9k7wlDbzVunNagBxYqSnWcl12jpQmaswWPbCC6TIdD6djg1ZxCwmE6zIpDw0f8bWc_BKpDRK6S0xffnno6Q4LA","expiresAt":"2025-11-11T14:01:45.0455508Z","roleName":"CLIENT"}

[][2025-10-28 15:02:17 INF] HTTP Request/Response Log:
  Path: /api/auth/register-as-client
  Method: POST
  Status: 200
  Duration: 260 ms
  Request Body: {
  "email": "johnDoe00@gmail.com",
  "password": "John1234",
  "firstname": "John",
  "lastname": "Doe",
  "username": "JohnDoe"
}

[][2025-10-28 15:02:17 ERR] An unhandled exception has occurred while executing the request.
Bloomia.Application.Common.Exceptions.MarketConflictException: Korisnik sa unesenim emailom već postoji.
   at Bloomia.Application.Modules.Auth.Commands.Register.UserRegisterCommandHandler.Handle(UserRegisterCommand request, CancellationToken cancellationToken) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Modules\Auth\Commands\Register\UserRegisterCommandHandler.cs:line 27
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 19
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[][2025-10-28 15:02:17 ERR] Unhandled exception. Path: /api/auth/register-as-client, Method: POST, TraceId: 00-140ee690c4c533cf6a80da0010bb630e-166e42264e57ddbc-00, User: anonymous
Bloomia.Application.Common.Exceptions.MarketConflictException: Korisnik sa unesenim emailom već postoji.
   at Bloomia.Application.Modules.Auth.Commands.Register.UserRegisterCommandHandler.Handle(UserRegisterCommand request, CancellationToken cancellationToken) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Modules\Auth\Commands\Register\UserRegisterCommandHandler.cs:line 27
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 19
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[][2025-10-28 15:02:17 ERR] An exception was thrown attempting to execute the error handler.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.Text.Json.PooledByteBufferWriter.FlushAsync(CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Bloomia.Infrastructure.Common.MarketExceptionHandler.TryHandleAsync(HttpContext ctx, Exception ex, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Infrastructure\Common\MarketExceptionHandler.cs:line 51
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
[][2025-10-28 15:02:17 ERR] An unhandled exception has occurred while executing the request.
Bloomia.Application.Common.Exceptions.MarketConflictException: Korisnik sa unesenim emailom već postoji.
   at Bloomia.Application.Modules.Auth.Commands.Register.UserRegisterCommandHandler.Handle(UserRegisterCommand request, CancellationToken cancellationToken) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Modules\Auth\Commands\Register\UserRegisterCommandHandler.cs:line 27
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 19
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[][2025-10-28 15:02:17 ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[][2025-10-28 15:02:17 ERR] Connection id "0HNGM59LG135V", Request id "0HNGM59LG135V:00000001": An unhandled exception was thrown by the application.
Bloomia.Application.Common.Exceptions.MarketConflictException: Korisnik sa unesenim emailom već postoji.
   at Bloomia.Application.Modules.Auth.Commands.Register.UserRegisterCommandHandler.Handle(UserRegisterCommand request, CancellationToken cancellationToken) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Modules\Auth\Commands\Register\UserRegisterCommandHandler.cs:line 27
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 19
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[][2025-10-28 15:27:09 WRN] Entity 'UserEntity' has a global query filter defined and is the required end of a relationship with the entity 'AdminEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 15:27:09 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'JournalEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 15:27:09 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'MoodEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 15:27:09 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SavedTherapistsEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 15:27:09 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SelfTestResultEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 15:27:09 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'AppointmentEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 15:27:09 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistAvailabilityEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 15:27:09 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistsTherapyTypesEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 15:27:10 INF] Bloomia API started successfully.
[][2025-10-28 15:27:11 INF] Now listening on: https://localhost:7260
[][2025-10-28 15:27:11 INF] Now listening on: http://localhost:5177
[][2025-10-28 15:27:11 INF] Application started. Press Ctrl+C to shut down.
[][2025-10-28 15:27:11 INF] Hosting environment: Development
[][2025-10-28 15:27:11 INF] Content root path: C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API
[][2025-10-28 15:28:23 INF] HTTP Request/Response Log:
  Path: /api/auth/register-as-client
  Method: POST
  Status: 200
  Duration: 337 ms
  Request Body: {
  "email": "miaPostman@work.com",
  "password": "miaP23",
  "firstname": "Mia",
  "lastname": "Postman",
  "username": "MiaPostman"
}

[][2025-10-28 15:28:23 ERR] An unhandled exception has occurred while executing the request.
FluentValidation.ValidationException: Validation failed: 
 -- Email: Email domain must me @gmail, @yahoo or @edu  Severity: Error
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 17
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[][2025-10-28 15:28:23 ERR] Unhandled exception. Path: /api/auth/register-as-client, Method: POST, TraceId: 00-1c380739f368a9d17b6880ed83195b01-121e453899da9f80-00, User: anonymous
FluentValidation.ValidationException: Validation failed: 
 -- Email: Email domain must me @gmail, @yahoo or @edu  Severity: Error
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 17
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[][2025-10-28 15:28:23 ERR] An exception was thrown attempting to execute the error handler.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.Text.Json.PooledByteBufferWriter.FlushAsync(CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Bloomia.Infrastructure.Common.MarketExceptionHandler.TryHandleAsync(HttpContext ctx, Exception ex, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Infrastructure\Common\MarketExceptionHandler.cs:line 51
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
[][2025-10-28 15:28:23 ERR] An unhandled exception has occurred while executing the request.
FluentValidation.ValidationException: Validation failed: 
 -- Email: Email domain must me @gmail, @yahoo or @edu  Severity: Error
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 17
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[][2025-10-28 15:28:23 ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[][2025-10-28 15:28:23 ERR] Connection id "0HNGM5OAI4IAG", Request id "0HNGM5OAI4IAG:00000001": An unhandled exception was thrown by the application.
FluentValidation.ValidationException: Validation failed: 
 -- Email: Email domain must me @gmail, @yahoo or @edu  Severity: Error
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 17
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[][2025-10-28 16:09:06 WRN] Entity 'UserEntity' has a global query filter defined and is the required end of a relationship with the entity 'AdminEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:09:07 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'JournalEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:09:07 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'MoodEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:09:07 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SavedTherapistsEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:09:07 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SelfTestResultEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:09:07 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'AppointmentEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:09:07 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistAvailabilityEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:09:07 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistsTherapyTypesEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:09:09 INF] Bloomia API started successfully.
[][2025-10-28 16:09:09 INF] Now listening on: https://localhost:7260
[][2025-10-28 16:09:09 INF] Now listening on: http://localhost:5177
[][2025-10-28 16:09:09 INF] Application started. Press Ctrl+C to shut down.
[][2025-10-28 16:09:09 INF] Hosting environment: Development
[][2025-10-28 16:09:09 INF] Content root path: C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API
[][2025-10-28 16:21:08 WRN] Entity 'UserEntity' has a global query filter defined and is the required end of a relationship with the entity 'AdminEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:21:08 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'JournalEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:21:08 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'MoodEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:21:08 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SavedTherapistsEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:21:08 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SelfTestResultEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:21:08 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'AppointmentEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:21:08 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistAvailabilityEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:21:08 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistsTherapyTypesEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:21:10 INF] Bloomia API started successfully.
[][2025-10-28 16:21:10 INF] Now listening on: https://localhost:7260
[][2025-10-28 16:21:10 INF] Now listening on: http://localhost:5177
[][2025-10-28 16:21:10 INF] Application started. Press Ctrl+C to shut down.
[][2025-10-28 16:21:11 INF] Hosting environment: Development
[][2025-10-28 16:21:11 INF] Content root path: C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API
[][2025-10-28 16:21:34 WRN] [SLOW REQUEST] /api/auth/login took 617 ms
[][2025-10-28 16:21:34 INF] HTTP Request/Response Log:
  Path: /api/auth/login
  Method: POST
  Status: 200
  Duration: 617 ms
  Request Body: {
  "email": "johndoe@gmail.com",
  "password": "John1234",
  "fingerprint": "string"
}

[][2025-10-28 16:21:34 ERR] An unhandled exception has occurred while executing the request.
Bloomia.Application.Common.Exceptions.MarketNotFoundException: Korisnik nije pronađen ili je onemogućen.
   at LoginCommandHandler.Handle(LoginCommand request, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Modules\Auth\Commands\Login\LoginCommandHandler.cs:line 13
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 19
   at AuthController.Login(LoginCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 14
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[][2025-10-28 16:21:35 ERR] Unhandled exception. Path: /api/auth/login, Method: POST, TraceId: 00-d0f64b42747a7c7c6a58da73bd51f34c-977f9e5e6562c2b0-00, User: anonymous
Bloomia.Application.Common.Exceptions.MarketNotFoundException: Korisnik nije pronađen ili je onemogućen.
   at LoginCommandHandler.Handle(LoginCommand request, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Modules\Auth\Commands\Login\LoginCommandHandler.cs:line 13
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 19
   at AuthController.Login(LoginCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 14
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[][2025-10-28 16:21:35 ERR] An exception was thrown attempting to execute the error handler.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.Text.Json.PooledByteBufferWriter.FlushAsync(CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Bloomia.Infrastructure.Common.MarketExceptionHandler.TryHandleAsync(HttpContext ctx, Exception ex, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Infrastructure\Common\MarketExceptionHandler.cs:line 51
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
[][2025-10-28 16:21:35 ERR] An unhandled exception has occurred while executing the request.
Bloomia.Application.Common.Exceptions.MarketNotFoundException: Korisnik nije pronađen ili je onemogućen.
   at LoginCommandHandler.Handle(LoginCommand request, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Modules\Auth\Commands\Login\LoginCommandHandler.cs:line 13
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 19
   at AuthController.Login(LoginCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 14
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[][2025-10-28 16:21:35 ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[][2025-10-28 16:21:35 ERR] Connection id "0HNGM6MG35H84", Request id "0HNGM6MG35H84:00000001": An unhandled exception was thrown by the application.
Bloomia.Application.Common.Exceptions.MarketNotFoundException: Korisnik nije pronađen ili je onemogućen.
   at LoginCommandHandler.Handle(LoginCommand request, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Modules\Auth\Commands\Login\LoginCommandHandler.cs:line 13
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 19
   at AuthController.Login(LoginCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 14
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[][2025-10-28 16:24:17 WRN] Entity 'UserEntity' has a global query filter defined and is the required end of a relationship with the entity 'AdminEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:24:17 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'JournalEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:24:17 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'MoodEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:24:17 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SavedTherapistsEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:24:17 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SelfTestResultEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:24:17 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'AppointmentEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:24:17 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistAvailabilityEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:24:17 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistsTherapyTypesEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:24:19 INF] Bloomia API started successfully.
[][2025-10-28 16:24:20 INF] Now listening on: https://localhost:7260
[][2025-10-28 16:24:20 INF] Now listening on: http://localhost:5177
[][2025-10-28 16:24:20 INF] Application started. Press Ctrl+C to shut down.
[][2025-10-28 16:24:20 INF] Hosting environment: Development
[][2025-10-28 16:24:20 INF] Content root path: C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API
[][2025-10-28 16:26:11 WRN] [SLOW REQUEST] /api/auth/register-as-client took 1355 ms
[][2025-10-28 16:26:11 INF] HTTP Request/Response Log:
  Path: /api/auth/register-as-client
  Method: POST
  Status: 200
  Duration: 1355 ms
  Request Body: {
  "email": "neziroviclejla@gmail.com",
  "password": "Lejla123",
  "firstname": "Lejla",
  "lastname": "Nezirovic",
  "username": "LejlaNezirovic"
}
  Response Body: {"id":5,"fullname":"Lejla Nezirovic","email":"neziroviclejla@gmail.com","accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1IiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZWlkZW50aWZpZXIiOiI1IiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvZW1haWxhZGRyZXNzIjoibmV6aXJvdmljbGVqbGFAZ21haWwuY29tIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiQ0xJRU5UIiwiZnVsbG5hbWUiOiJMZWpsYSBOZXppcm92aWMiLCJ2ZXIiOiIwIiwiaWF0IjoxNzYxNjY1MTcxLCJqdGkiOiI5MjFlODk5NDMzM2Q0NGFhODcxOTRkZjU4OWJjOTI2YiIsImF1ZCI6WyJCbG9vbWlhLlNwYSIsIkJsb29taWEuU3BhIl0sIm5iZiI6MTc2MTY2NTE3MSwiZXhwIjoxNzYxNjY2MzcxLCJpc3MiOiJCbG9vbWlhLkFwaSJ9.yOQiHC4g57GHtCqGZFoncaVk2Oup1cw3Vx0JLYACRFQ","refreshToken":"RCavrkejYtaWuhJ9H6vmLvUZQkP6OdU_LaK758Ms7uFPyvlRAjwELfUas0pQx1BH-y01SVsDVbYxzgoic1TxZw","expiresAt":"2025-11-11T15:26:11.4510651Z","roleName":"CLIENT"}

[][2025-10-28 16:28:45 WRN] Entity 'UserEntity' has a global query filter defined and is the required end of a relationship with the entity 'AdminEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:28:45 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'JournalEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:28:45 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'MoodEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:28:45 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SavedTherapistsEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:28:45 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SelfTestResultEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:28:45 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'AppointmentEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:28:45 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistAvailabilityEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:28:45 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistsTherapyTypesEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 16:28:49 INF] Bloomia API started successfully.
[][2025-10-28 16:28:50 INF] Now listening on: https://localhost:7260
[][2025-10-28 16:28:50 INF] Now listening on: http://localhost:5177
[][2025-10-28 16:28:50 INF] Application started. Press Ctrl+C to shut down.
[][2025-10-28 16:28:50 INF] Hosting environment: Development
[][2025-10-28 16:28:50 INF] Content root path: C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API
[][2025-10-28 16:29:15 WRN] [SLOW REQUEST] /api/auth/login took 2850 ms
[][2025-10-28 16:29:15 INF] HTTP Request/Response Log:
  Path: /api/auth/login
  Method: POST
  Status: 200
  Duration: 2850 ms
  Request Body: {
  "email": "neziroviclejla@gmail.com",
  "password": "Lejla123",
  "fingerprint": "string"
}
  Response Body: {"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1IiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZWlkZW50aWZpZXIiOiI1IiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvZW1haWxhZGRyZXNzIjoibmV6aXJvdmljbGVqbGFAZ21haWwuY29tIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiQ0xJRU5UIiwiZnVsbG5hbWUiOiJMZWpsYSBOZXppcm92aWMiLCJ2ZXIiOiIwIiwiaWF0IjoxNzYxNjY1MzU0LCJqdGkiOiIxMGQ5Yjk5YTlkYzE0MDhiYTVlOTNjNGU4MzE4NmYxNCIsImF1ZCI6WyJCbG9vbWlhLlNwYSIsIkJsb29taWEuU3BhIl0sIm5iZiI6MTc2MTY2NTM1NCwiZXhwIjoxNzYxNjY2NTU0LCJpc3MiOiJCbG9vbWlhLkFwaSJ9.cDaYXXbDgZ4RaVi7UX87ZBpCVQXIzhFgScgw2iqODKA","refreshToken":"Q9zn9LNmfO0ixulbALIk268NfhCSQ-XAttz4r-31ucBHAuVsc_F1IlBZfIhaJC3k8anPX9deaqe0HZO-E4jk0Q","expiresAtUtc":"2025-11-11T15:29:14.9986942Z"}

[][2025-10-28 19:19:31 WRN] Entity 'UserEntity' has a global query filter defined and is the required end of a relationship with the entity 'AdminEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 19:19:31 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'JournalEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 19:19:31 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'MoodEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 19:19:31 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SavedTherapistsEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 19:19:31 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SelfTestResultEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 19:19:31 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'AppointmentEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 19:19:31 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistAvailabilityEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 19:19:31 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistsTherapyTypesEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 19:19:32 INF] Bloomia API started successfully.
[][2025-10-28 19:19:32 INF] Now listening on: https://localhost:7260
[][2025-10-28 19:19:33 INF] Now listening on: http://localhost:5177
[][2025-10-28 19:19:33 INF] Application started. Press Ctrl+C to shut down.
[][2025-10-28 19:19:33 INF] Hosting environment: Development
[][2025-10-28 19:19:33 INF] Content root path: C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API
[][2025-10-28 19:20:30 INF] HTTP Request/Response Log:
  Path: /api/auth/register-as-client
  Method: POST
  Status: 200
  Duration: 350 ms
  Request Body: {
  "email": "notvalidformat@work.com",
  "password": "qwert123",
  "firstname": "NotValid",
  "lastname": "Format",
  "username": "notvalidatall"
}

[][2025-10-28 19:20:30 ERR] An unhandled exception has occurred while executing the request.
FluentValidation.ValidationException: Validation failed: 
 -- Email: Email domain must me @gmail, @yahoo or @edu  Severity: Error
 -- Password: Password must contain at least one uppercase letter Severity: Error
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 17
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[][2025-10-28 19:20:30 ERR] Unhandled exception. Path: /api/auth/register-as-client, Method: POST, TraceId: 00-e14aafde664bd2c36e0f7618d954e464-f68168fb53da3c62-00, User: anonymous
FluentValidation.ValidationException: Validation failed: 
 -- Email: Email domain must me @gmail, @yahoo or @edu  Severity: Error
 -- Password: Password must contain at least one uppercase letter Severity: Error
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 17
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[][2025-10-28 19:20:31 ERR] An exception was thrown attempting to execute the error handler.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.Text.Json.PooledByteBufferWriter.FlushAsync(CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Bloomia.Infrastructure.Common.MarketExceptionHandler.TryHandleAsync(HttpContext ctx, Exception ex, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Infrastructure\Common\MarketExceptionHandler.cs:line 51
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
[][2025-10-28 19:20:31 ERR] An unhandled exception has occurred while executing the request.
FluentValidation.ValidationException: Validation failed: 
 -- Email: Email domain must me @gmail, @yahoo or @edu  Severity: Error
 -- Password: Password must contain at least one uppercase letter Severity: Error
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 17
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[][2025-10-28 19:20:31 ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[][2025-10-28 19:20:31 ERR] Connection id "0HNGM9Q5HU22F", Request id "0HNGM9Q5HU22F:00000001": An unhandled exception was thrown by the application.
FluentValidation.ValidationException: Validation failed: 
 -- Email: Email domain must me @gmail, @yahoo or @edu  Severity: Error
 -- Password: Password must contain at least one uppercase letter Severity: Error
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 17
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[][2025-10-28 20:31:39 WRN] Entity 'UserEntity' has a global query filter defined and is the required end of a relationship with the entity 'AdminEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:31:40 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'JournalEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:31:40 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'MoodEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:31:40 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SavedTherapistsEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:31:40 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SelfTestResultEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:31:40 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'AppointmentEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:31:40 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistAvailabilityEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:31:40 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistsTherapyTypesEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:31:42 INF] Bloomia API started successfully.
[][2025-10-28 20:31:43 INF] Now listening on: https://localhost:7260
[][2025-10-28 20:31:43 INF] Now listening on: http://localhost:5177
[][2025-10-28 20:31:43 INF] Application started. Press Ctrl+C to shut down.
[][2025-10-28 20:31:43 INF] Hosting environment: Development
[][2025-10-28 20:31:43 INF] Content root path: C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API
[][2025-10-28 20:32:42 WRN] [SLOW REQUEST] /api/auth/register-as-client took 1023 ms
[][2025-10-28 20:32:42 INF] HTTP Request/Response Log:
  Path: /api/auth/register-as-client
  Method: POST
  Status: 200
  Duration: 1023 ms
  Request Body: {
  "email": "notvalidatall@work.com",
  "password": "qwert123",
  "firstname": "Valid",
  "lastname": "Data",
  "username": "notvalidatall"
}

[][2025-10-28 20:32:42 ERR] An unhandled exception has occurred while executing the request.
FluentValidation.ValidationException: Validation failed: 
 -- Email: Email domain must me @gmail, @yahoo or @edu  Severity: Error
 -- Password: Password must contain at least one uppercase letter Severity: Error
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 17
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[][2025-10-28 20:32:42 ERR] Unhandled exception. Path: /api/auth/register-as-client, Method: POST, TraceId: 00-ed592f45a854d8b6175020e230f60cbf-dfa29840b31ea175-00, User: anonymous
FluentValidation.ValidationException: Validation failed: 
 -- Email: Email domain must me @gmail, @yahoo or @edu  Severity: Error
 -- Password: Password must contain at least one uppercase letter Severity: Error
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 17
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[][2025-10-28 20:32:43 ERR] An exception was thrown attempting to execute the error handler.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.Text.Json.PooledByteBufferWriter.FlushAsync(CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Bloomia.Infrastructure.Common.MarketExceptionHandler.TryHandleAsync(HttpContext ctx, Exception ex, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Infrastructure\Common\MarketExceptionHandler.cs:line 64
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
[][2025-10-28 20:32:43 ERR] An unhandled exception has occurred while executing the request.
FluentValidation.ValidationException: Validation failed: 
 -- Email: Email domain must me @gmail, @yahoo or @edu  Severity: Error
 -- Password: Password must contain at least one uppercase letter Severity: Error
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 17
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[][2025-10-28 20:32:44 ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[][2025-10-28 20:32:44 ERR] Connection id "0HNGMB2G57559", Request id "0HNGMB2G57559:00000001": An unhandled exception was thrown by the application.
FluentValidation.ValidationException: Validation failed: 
 -- Email: Email domain must me @gmail, @yahoo or @edu  Severity: Error
 -- Password: Password must contain at least one uppercase letter Severity: Error
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 17
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[][2025-10-28 20:38:00 WRN] Entity 'UserEntity' has a global query filter defined and is the required end of a relationship with the entity 'AdminEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:38:01 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'JournalEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:38:01 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'MoodEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:38:01 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SavedTherapistsEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:38:01 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SelfTestResultEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:38:01 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'AppointmentEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:38:01 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistAvailabilityEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:38:01 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistsTherapyTypesEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:38:04 INF] Bloomia API started successfully.
[][2025-10-28 20:38:05 INF] Now listening on: https://localhost:7260
[][2025-10-28 20:38:05 INF] Now listening on: http://localhost:5177
[][2025-10-28 20:38:05 INF] Application started. Press Ctrl+C to shut down.
[][2025-10-28 20:38:05 INF] Hosting environment: Development
[][2025-10-28 20:38:05 INF] Content root path: C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API
[][2025-10-28 20:38:49 WRN] [SLOW REQUEST] /api/auth/register-as-client took 916 ms
[][2025-10-28 20:38:49 INF] HTTP Request/Response Log:
  Path: /api/auth/register-as-client
  Method: POST
  Status: 200
  Duration: 916 ms
  Request Body: {
  "email": "notvalidemail@work.com",
  "password": "qwert123",
  "firstname": "Valid",
  "lastname": "Data",
  "username": "notvalidatall"
}

[][2025-10-28 20:38:49 ERR] An unhandled exception has occurred while executing the request.
FluentValidation.ValidationException: Validation failed: 
 -- Email: Email domain must me @gmail, @yahoo or @edu  Severity: Error
 -- Password: Password must contain at least one uppercase letter Severity: Error
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 17
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[][2025-10-28 20:38:49 ERR] Unhandled exception. Path: /api/auth/register-as-client, Method: POST, TraceId: 00-98316a6664be0bb3785b4b9bb0b88f7f-b2be707d84d245f7-00, User: anonymous
FluentValidation.ValidationException: Validation failed: 
 -- Email: Email domain must me @gmail, @yahoo or @edu  Severity: Error
 -- Password: Password must contain at least one uppercase letter Severity: Error
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 17
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[][2025-10-28 20:38:49 ERR] An exception was thrown attempting to execute the error handler.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Bloomia.Infrastructure.Common.MarketExceptionHandler.TryHandleAsync(HttpContext ctx, Exception ex, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Infrastructure\Common\MarketExceptionHandler.cs:line 56
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
[][2025-10-28 20:38:49 ERR] An unhandled exception has occurred while executing the request.
FluentValidation.ValidationException: Validation failed: 
 -- Email: Email domain must me @gmail, @yahoo or @edu  Severity: Error
 -- Password: Password must contain at least one uppercase letter Severity: Error
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 17
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[][2025-10-28 20:38:50 ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[][2025-10-28 20:38:50 ERR] Connection id "0HNGMB6206AJ1", Request id "0HNGMB6206AJ1:00000001": An unhandled exception was thrown by the application.
FluentValidation.ValidationException: Validation failed: 
 -- Email: Email domain must me @gmail, @yahoo or @edu  Severity: Error
 -- Password: Password must contain at least one uppercase letter Severity: Error
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 17
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[][2025-10-28 20:40:06 WRN] Entity 'UserEntity' has a global query filter defined and is the required end of a relationship with the entity 'AdminEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:40:06 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'JournalEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:40:06 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'MoodEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:40:06 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SavedTherapistsEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:40:06 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SelfTestResultEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:40:06 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'AppointmentEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:40:06 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistAvailabilityEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:40:06 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistsTherapyTypesEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:40:10 INF] Bloomia API started successfully.
[][2025-10-28 20:40:10 INF] Now listening on: https://localhost:7260
[][2025-10-28 20:40:10 INF] Now listening on: http://localhost:5177
[][2025-10-28 20:40:11 INF] Application started. Press Ctrl+C to shut down.
[][2025-10-28 20:40:11 INF] Hosting environment: Development
[][2025-10-28 20:40:11 INF] Content root path: C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API
[][2025-10-28 20:40:45 WRN] [SLOW REQUEST] /api/auth/register-as-client took 884 ms
[][2025-10-28 20:40:45 INF] HTTP Request/Response Log:
  Path: /api/auth/register-as-client
  Method: POST
  Status: 200
  Duration: 884 ms
  Request Body: {
  "email": "notvalid@work.com",
  "password": "string123",
  "firstname": "valid",
  "lastname": "Data",
  "username": "notvaliddata"
}

[][2025-10-28 20:40:45 ERR] An unhandled exception has occurred while executing the request.
FluentValidation.ValidationException: Validation failed: 
 -- Email: Email domain must me @gmail, @yahoo or @edu  Severity: Error
 -- Password: Password must contain at least one uppercase letter Severity: Error
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 17
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[][2025-10-28 20:40:45 ERR] Unhandled exception. Path: /api/auth/register-as-client, Method: POST, TraceId: 00-a41771fb8acf6e3b130574b3ed826ecb-7012e46cf2387e28-00, User: anonymous
FluentValidation.ValidationException: Validation failed: 
 -- Email: Email domain must me @gmail, @yahoo or @edu  Severity: Error
 -- Password: Password must contain at least one uppercase letter Severity: Error
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 17
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[][2025-10-28 20:40:45 ERR] An exception was thrown attempting to execute the error handler.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Bloomia.Infrastructure.Common.MarketExceptionHandler.TryHandleAsync(HttpContext ctx, Exception ex, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Infrastructure\Common\MarketExceptionHandler.cs:line 56
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
[][2025-10-28 20:40:45 ERR] An unhandled exception has occurred while executing the request.
FluentValidation.ValidationException: Validation failed: 
 -- Email: Email domain must me @gmail, @yahoo or @edu  Severity: Error
 -- Password: Password must contain at least one uppercase letter Severity: Error
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 17
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[][2025-10-28 20:40:45 ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[][2025-10-28 20:40:45 ERR] Connection id "0HNGMB77EI857", Request id "0HNGMB77EI857:00000001": An unhandled exception was thrown by the application.
FluentValidation.ValidationException: Validation failed: 
 -- Email: Email domain must me @gmail, @yahoo or @edu  Severity: Error
 -- Password: Password must contain at least one uppercase letter Severity: Error
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 17
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[][2025-10-28 20:46:16 WRN] Entity 'UserEntity' has a global query filter defined and is the required end of a relationship with the entity 'AdminEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:46:16 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'JournalEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:46:16 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'MoodEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:46:16 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SavedTherapistsEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:46:16 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SelfTestResultEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:46:16 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'AppointmentEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:46:16 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistAvailabilityEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:46:16 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistsTherapyTypesEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 20:46:19 INF] Bloomia API started successfully.
[][2025-10-28 20:46:20 INF] Now listening on: https://localhost:7260
[][2025-10-28 20:46:20 INF] Now listening on: http://localhost:5177
[][2025-10-28 20:46:20 INF] Application started. Press Ctrl+C to shut down.
[][2025-10-28 20:46:20 INF] Hosting environment: Development
[][2025-10-28 20:46:20 INF] Content root path: C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API
[][2025-10-28 20:47:02 WRN] [SLOW REQUEST] /api/auth/register-as-client took 942 ms
[][2025-10-28 20:47:02 INF] HTTP Request/Response Log:
  Path: /api/auth/register-as-client
  Method: POST
  Status: 200
  Duration: 942 ms
  Request Body: {
  "email": "notvalid@work.com",
  "password": "string123",
  "firstname": "Valid",
  "lastname": "Data",
  "username": "notvaliddata"
}

[][2025-10-28 20:47:03 ERR] An unhandled exception has occurred while executing the request.
FluentValidation.ValidationException: Validation failed: 
 -- Email: Email domain must me @gmail, @yahoo or @edu  Severity: Error
 -- Password: Password must contain at least one uppercase letter Severity: Error
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 17
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[][2025-10-28 20:47:03 ERR] Unhandled exception. Path: /api/auth/register-as-client, Method: POST, TraceId: 00-b932f397b1bfa5bd2de8fb13e30183b8-124e2e21453ff8d3-00, User: anonymous
FluentValidation.ValidationException: Validation failed: 
 -- Email: Email domain must me @gmail, @yahoo or @edu  Severity: Error
 -- Password: Password must contain at least one uppercase letter Severity: Error
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 17
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[][2025-10-28 20:47:03 ERR] An exception was thrown attempting to execute the error handler.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Bloomia.Infrastructure.Common.MarketExceptionHandler.TryHandleAsync(HttpContext ctx, Exception ex, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Infrastructure\Common\MarketExceptionHandler.cs:line 56
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
[][2025-10-28 20:47:03 ERR] An unhandled exception has occurred while executing the request.
FluentValidation.ValidationException: Validation failed: 
 -- Email: Email domain must me @gmail, @yahoo or @edu  Severity: Error
 -- Password: Password must contain at least one uppercase letter Severity: Error
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 17
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[][2025-10-28 20:47:03 ERR] An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[][2025-10-28 20:47:03 ERR] Connection id "0HNGMBALJB0OH", Request id "0HNGMBALJB0OH:00000001": An unhandled exception was thrown by the application.
FluentValidation.ValidationException: Validation failed: 
 -- Email: Email domain must me @gmail, @yahoo or @edu  Severity: Error
 -- Password: Password must contain at least one uppercase letter Severity: Error
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 17
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 39
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Bloomia.API.Middlewares.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Middleware\RequestResponseLoggingMiddleware.cs:line 75
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[][2025-10-28 21:04:17 WRN] Entity 'UserEntity' has a global query filter defined and is the required end of a relationship with the entity 'AdminEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 21:04:17 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'JournalEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 21:04:18 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'MoodEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 21:04:18 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SavedTherapistsEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 21:04:18 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'SelfTestResultEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 21:04:18 WRN] Entity 'ClientEntity' has a global query filter defined and is the required end of a relationship with the entity 'AppointmentEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 21:04:18 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistAvailabilityEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 21:04:18 WRN] Entity 'TherapistEntity' has a global query filter defined and is the required end of a relationship with the entity 'TherapistsTherapyTypesEntity'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[][2025-10-28 21:04:21 INF] Bloomia API started successfully.
[][2025-10-28 21:04:22 INF] Now listening on: https://localhost:7260
[][2025-10-28 21:04:22 INF] Now listening on: http://localhost:5177
[][2025-10-28 21:04:22 INF] Application started. Press Ctrl+C to shut down.
[][2025-10-28 21:04:22 INF] Hosting environment: Development
[][2025-10-28 21:04:22 INF] Content root path: C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API
[][2025-10-28 21:05:00 ERR] An unhandled exception has occurred while executing the request.
FluentValidation.ValidationException: Validation failed: 
 -- Email: Email domain must me @gmail, @yahoo or @edu  Severity: Error
 -- Password: Password must contain at least one uppercase letter Severity: Error
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 17
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[][2025-10-28 21:05:01 ERR] Unhandled exception. Path: /api/auth/register-as-client, Method: POST, TraceId: 00-5fd420b0d7e2fbb8f3a6fd0c3461ab9f-ed1fd04e8df54b3e-00, User: anonymous
FluentValidation.ValidationException: Validation failed: 
 -- Email: Email domain must me @gmail, @yahoo or @edu  Severity: Error
 -- Password: Password must contain at least one uppercase letter Severity: Error
   at Bloomia.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.Application\Common\Behaviors\ValidationBehavior.cs:line 17
   at AuthController.ClientRegistration(UserRegisterCommand command, CancellationToken ct) in C:\Users\nezir\bloomia-app\backend\Bloomia.Backend\Bloomia.API\Controllers\AuthController.cs:line 20
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
[][2025-10-28 21:05:01 WRN] [SLOW REQUEST] /api/auth/register-as-client took 1210 ms
[][2025-10-28 21:05:01 INF] HTTP Request/Response Log:
  Path: /api/auth/register-as-client
  Method: POST
  Status: 400
  Duration: 1210 ms
  Request Body: {
  "email": "notvalid@work.com",
  "password": "string123",
  "firstname": "Valid",
  "lastname": "Data",
  "username": "notvalatall"
}
  Response Body: {"Code":"validation.error","Message":"Validation failed: Email: Email domain must me @gmail, @yahoo or @edu ;Password: Password must contain at least one uppercase letter","TraceId":"00-5fd420b0d7e2fbb8f3a6fd0c3461ab9f-ed1fd04e8df54b3e-00","Details":"Bloomia.Infrastructure.Common.MarketExceptionHandler"}

[][2025-10-28 21:06:07 WRN] [SLOW REQUEST] /api/auth/login took 2228 ms
[][2025-10-28 21:06:07 INF] HTTP Request/Response Log:
  Path: /api/auth/login
  Method: POST
  Status: 200
  Duration: 2228 ms
  Request Body: {
  "email": "neziroviclejla@gmail.com",
  "password": "Lejla123",
  "fingerprint": "string"
}
  Response Body: {"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1IiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZWlkZW50aWZpZXIiOiI1IiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvZW1haWxhZGRyZXNzIjoibmV6aXJvdmljbGVqbGFAZ21haWwuY29tIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiQ0xJRU5UIiwiZnVsbG5hbWUiOiJMZWpsYSBOZXppcm92aWMiLCJ2ZXIiOiIwIiwiaWF0IjoxNzYxNjgxOTY2LCJqdGkiOiIwOTlmZGRiYzM5NDU0ZWU3YjZiYjU0N2E0ZmRhMzQ4YSIsImF1ZCI6WyJCbG9vbWlhLlNwYSIsIkJsb29taWEuU3BhIl0sIm5iZiI6MTc2MTY4MTk2NiwiZXhwIjoxNzYxNjgzMTY2LCJpc3MiOiJCbG9vbWlhLkFwaSJ9.U4bbQ1UZwWLXXbxhXo9Zw6zTiqLqRuUG6WflalJAolU","refreshToken":"WZ4_ic3Le1Q68mQEBLf09iiQ6_uDSLz2ZKye4GCOjPY1E_xatXBjiEILrbg_sEme5IwkmAUTSWouOjPDkp5sgA","expiresAtUtc":"2025-11-11T20:06:06.9602072Z"}

